# Tyson concepts

## Type dictionaries

To type-check your semantic actions, you first need to specify the types of each of your symbols' respective semantic values.

For example, if you had the following grammar:

```jison
node
    : number
    | unaryOperation
    | binaryOperation
    ;

number
    : NUMBER
        { $$ = parseFloat($1, 10); }
    ;

unaryOperation
    : "-" node
        { $$ = { nodeType: "UnaryOperation", operator: "-", right: $2 }; }
    ;

binaryOperation
    :  node "+" node
        { $$ = { nodeType: "BinaryOperation", left: $1, operator: "+", right: $3 }; }
    ;
```

...you would need to specify the type of the semantic value of each symbol.
This includes nonterminal symbols (`node`, `number`, `unaryOperation`, `binaryOperation`), as well as terminal symbols (`NUMBER`, `"-"`, `"+"`).

You do this with a _type dictionary_. A type dictionary is simply an interface that maps symbol names to the types of the symbol's semantic value.

For the above grammar, the type dictionary would look something like this:

```ts
export interface TysonTypeDictionary {
  NUMBER: string;
  "-": "-";
  "+": "+";

  node: Node;
  number: NumberNode;
  unaryOperation: UnaryOperation;
  binaryOperation: BinaryOperation;
}

type Node = NumberNode | UnaryOperation | BinaryOperation;

type NumberNode = number;

interface UnaryOperation {
  nodeType: "UnaryOperation";
  operator: string;
  right: Node;
}

interface BinaryOperation {
  nodeType: "BinaryOperation";
  left: Node;
  operator: string;
  right: Node;
}
```

The file generated by Tyson accesses the type dictionary by importing it.
To do this, Tyson needs to know two things:

1. The path to the TypeScript file that exports the type dictionary.
2. The name of the type dictionary interface. By convention, this is `TysonTypeDictionary`.

Consequently, when you run Tyson, in addition to specifying the path to the Jison file, you need to specify these arguments as well. You are, however, allowed to skip specifying the name of the type dictionary interface. If you do, it will default to `TysonTypeDictionary`.
